{"ast":null,"code":"import _objectSpread from\"C:/Users/Salman/Downloads/M-bot/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Enhanced Profile Component with Picture Upload, Email/Password Change\nimport React,{useState,useRef}from'react';import{FiCamera,FiMail,FiLock,FiUser,FiUpload,FiEye,FiEyeOff}from'react-icons/fi';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EnhancedProfile=_ref=>{let{user,onUpdateProfile}=_ref;const[profile,setProfile]=useState({screen_name:user.screen_name||'',pronouns:user.pronouns||'',goals:user.goals||user.identity_goals||'',focus_areas:Array.isArray(user.focus_areas)?user.focus_areas:typeof user.focus_areas==='string'&&user.focus_areas?user.focus_areas.split(',').map(f=>f.trim()).filter(Boolean):[]});const[security,setSecurity]=useState({new_email:user.email||'',current_password:'',new_password:'',confirm_password:''});const[activeTab,setActiveTab]=useState('profile');// profile, security, picture\nconst[loading,setLoading]=useState(false);const[message,setMessage]=useState('');const[uploadingPicture,setUploadingPicture]=useState(false);const[showPasswords,setShowPasswords]=useState({current:false,new:false,confirm:false});const fileInputRef=useRef(null);const pronounOptions=[{value:'he/him',label:'He/Him'},{value:'she/her',label:'She/Her'},{value:'they/them',label:'They/Them'},{value:'he/they',label:'He/They'},{value:'she/they',label:'She/They'},{value:'other',label:'Other'}];const focusAreaOptions=['Self-Acceptance','Relationships','Identity Expression','Communication','Emotional Well-being','Personal Growth'];const handleProfileSubmit=async e=>{e.preventDefault();setLoading(true);setMessage('');try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5000',\"/api/profile\"),{method:'PUT',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'application/json'},body:JSON.stringify({screen_name:profile.screen_name,pronouns:profile.pronouns,goals:profile.goals,focus_areas:profile.focus_areas})});if(response.ok){onUpdateProfile(profile);setMessage('Profile updated successfully! ‚ú®');setTimeout(()=>setMessage(''),3000);}else{const error=await response.json();setMessage(error.error||'Failed to update profile. Please try again.');}}catch(err){console.error('Error updating profile:',err);setMessage('Error updating profile. Please try again.');}finally{setLoading(false);}};const handlePictureUpload=async event=>{const file=event.target.files[0];if(!file)return;// Validate file type\nconst allowedTypes=['image/png','image/jpeg','image/jpg','image/gif','image/webp'];if(!allowedTypes.includes(file.type)){setMessage('Please upload a valid image file (PNG, JPG, JPEG, GIF, or WebP)');return;}// Validate file size (max 16MB)\nif(file.size>16*1024*1024){setMessage('File size must be less than 16MB');return;}setUploadingPicture(true);setMessage('');const formData=new FormData();formData.append('file',file);try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5000',\"/api/upload-profile-picture\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))},body:formData});if(response.ok){const data=await response.json();onUpdateProfile(_objectSpread(_objectSpread({},user),{},{profile_picture:data.profile_picture}));setMessage('Profile picture updated successfully! ‚ú®');setTimeout(()=>setMessage(''),3000);}else{const error=await response.json();setMessage(error.error||'Failed to upload picture. Please try again.');}}catch(err){console.error('Error uploading picture:',err);setMessage('Error uploading picture. Please try again.');}finally{setUploadingPicture(false);}};const handleEmailChange=async e=>{e.preventDefault();if(!security.current_password){setMessage('Please enter your current password to change email');return;}setLoading(true);setMessage('');try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5000',\"/api/change-email\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'application/json'},body:JSON.stringify({new_email:security.new_email,password:security.current_password})});if(response.ok){onUpdateProfile(_objectSpread(_objectSpread({},user),{},{email:security.new_email}));setSecurity(prev=>_objectSpread(_objectSpread({},prev),{},{current_password:''}));setMessage('Email changed successfully! ‚ú®');setTimeout(()=>setMessage(''),3000);}else{const error=await response.json();setMessage(error.error||'Failed to change email. Please try again.');}}catch(err){console.error('Error changing email:',err);setMessage('Error changing email. Please try again.');}finally{setLoading(false);}};const handlePasswordChange=async e=>{e.preventDefault();if(!security.current_password||!security.new_password||!security.confirm_password){setMessage('Please fill in all password fields');return;}if(security.new_password!==security.confirm_password){setMessage('New passwords do not match');return;}if(security.new_password.length<6){setMessage('New password must be at least 6 characters long');return;}setLoading(true);setMessage('');try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5000',\"/api/change-password\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'application/json'},body:JSON.stringify({current_password:security.current_password,new_password:security.new_password})});if(response.ok){setSecurity({new_email:user.email||'',current_password:'',new_password:'',confirm_password:''});setMessage('Password changed successfully! ‚ú®');setTimeout(()=>setMessage(''),3000);}else{const error=await response.json();setMessage(error.error||'Failed to change password. Please try again.');}}catch(err){console.error('Error changing password:',err);setMessage('Error changing password. Please try again.');}finally{setLoading(false);}};const togglePasswordVisibility=field=>{setShowPasswords(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:!prev[field]}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"enhanced-profile-container\",children:[user.user_id&&user.user_id.startsWith('local_user_')&&/*#__PURE__*/_jsx(\"div\",{style:{background:'var(--color-warning)',color:'white',padding:'12px 16px',borderRadius:'12px',marginBottom:'1rem',textAlign:'center',fontWeight:'600',fontSize:'1.1rem'},children:\"You are using local-only login. Please sign in with a real account to access all features (chat, sessions, profile picture, etc.).\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-header-card\",style:{position:'relative'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',display:'inline-block'},children:[user.profile_picture?/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5000').concat(user.profile_picture),alt:\"Profile Picture\",className:\"profile-picture-large\",style:{width:96,height:96,borderRadius:'50%',objectFit:'cover',background:'#eee',border:'3px solid var(--color-brand-primary)'}}):/*#__PURE__*/_jsx(\"div\",{className:\"profile-avatar\",style:{width:96,height:96,fontSize:'2.5rem',background:'var(--color-brand-primary)',color:'var(--color-bg-primary)',border:'3px solid var(--color-brand-primary)'},children:user.screen_name?user.screen_name[0].toUpperCase():user.name?user.name[0].toUpperCase():'M'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},disabled:uploadingPicture,style:{position:'absolute',bottom:0,right:0,width:32,height:32,borderRadius:'50%',background:'var(--color-brand-primary)',border:'2px solid white',color:'var(--color-bg-primary)',cursor:uploadingPicture?'not-allowed':'pointer',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'14px',opacity:uploadingPicture?0.6:1},title:\"Change profile picture\",children:uploadingPicture?'‚ü≥':/*#__PURE__*/_jsx(FiCamera,{})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:fileInputRef,onChange:handlePictureUpload,accept:\"image/png,image/jpeg,image/jpg,image/gif,image/webp\",style:{display:'none'}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-header-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"profile-name\",children:user.screen_name||user.name||'Your Name'}),/*#__PURE__*/_jsx(\"span\",{className:\"profile-email\",children:user.email||''}),user.auth_method==='oauth'&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'var(--color-brand-primary)',fontWeight:'500',marginTop:'4px',display:'block'},children:\"\\uD83C\\uDF10 Connected via Google\"})]})]}),message&&/*#__PURE__*/_jsx(\"div\",{style:{background:message.includes('successfully')?'var(--color-brand-primary)':'var(--color-warning)',color:message.includes('successfully')?'var(--color-bg-primary)':'white',padding:'12px 16px',borderRadius:'12px',marginBottom:'1rem',textAlign:'center',fontWeight:'500'},children:message}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',marginBottom:'2rem',background:'rgba(228, 205, 247, 0.3)',borderRadius:'12px',padding:'4px'},children:[{id:'profile',label:'Profile Info',icon:/*#__PURE__*/_jsx(FiUser,{})},{id:'security',label:'Security',icon:/*#__PURE__*/_jsx(FiLock,{})}].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),style:{flex:1,padding:'12px 16px',border:'none',borderRadius:'8px',background:activeTab===tab.id?'var(--color-brand-primary)':'transparent',color:activeTab===tab.id?'var(--color-bg-primary)':'#2d0036',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',gap:'8px',transition:'all 0.3s ease'},children:[tab.icon,tab.label]},tab.id))}),activeTab==='profile'&&/*#__PURE__*/_jsxs(\"form\",{className:\"profile-form profile-form-card\",onSubmit:handleProfileSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"screen_name\",children:\"Screen Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"screen_name\",type:\"text\",value:profile.screen_name,onChange:e=>setProfile(prev=>_objectSpread(_objectSpread({},prev),{},{screen_name:e.target.value})),placeholder:\"Choose a name to display\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"pronouns\",children:\"Your Pronouns\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"pronouns\",value:profile.pronouns,onChange:e=>setProfile(prev=>_objectSpread(_objectSpread({},prev),{},{pronouns:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select your pronouns\"}),pronounOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"goals\",children:\"What do you hope to become or express in your life and identity?\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"goals\",value:profile.goals,onChange:e=>setProfile(prev=>_objectSpread(_objectSpread({},prev),{},{goals:e.target.value})),placeholder:\"Share your aspirations and goals...\",rows:4})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"What areas are most important to you right now?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"focus-areas\",children:focusAreaOptions.map(area=>/*#__PURE__*/_jsxs(\"label\",{className:\"focus-area-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:profile.focus_areas.includes(area),onChange:e=>{const newAreas=e.target.checked?[...profile.focus_areas,area]:profile.focus_areas.filter(a=>a!==area);setProfile(prev=>_objectSpread(_objectSpread({},prev),{},{focus_areas:newAreas}));}}),area]},area))})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary \".concat(loading?'loading':''),disabled:loading,children:loading?'Saving...':'Save Profile'})]}),activeTab==='security'&&/*#__PURE__*/_jsx(\"div\",{className:\"profile-form-card\",children:user.auth_method==='oauth'?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'2rem',background:'rgba(142, 230, 163, 0.1)',borderRadius:'12px',color:'var(--color-bg-primary)'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'1rem'},children:\"\\uD83C\\uDF10 OAuth Account\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your account is connected through Google OAuth. Email and password changes are managed through your Google account.\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:'var(--color-bg-primary)',marginBottom:'1rem',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(FiMail,{}),\" Change Email\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleEmailChange,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"new_email\",children:\"New Email Address\"}),/*#__PURE__*/_jsx(\"input\",{id:\"new_email\",type:\"email\",value:security.new_email,onChange:e=>setSecurity(prev=>_objectSpread(_objectSpread({},prev),{},{new_email:e.target.value})),placeholder:\"Enter new email address\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email_password\",children:\"Current Password\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"input\",{id:\"email_password\",type:showPasswords.current?\"text\":\"password\",value:security.current_password,onChange:e=>setSecurity(prev=>_objectSpread(_objectSpread({},prev),{},{current_password:e.target.value})),placeholder:\"Enter current password\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>togglePasswordVisibility('current'),style:{position:'absolute',right:'12px',top:'50%',transform:'translateY(-50%)',background:'none',border:'none',cursor:'pointer',color:'var(--color-bg-primary)'},children:showPasswords.current?/*#__PURE__*/_jsx(FiEyeOff,{}):/*#__PURE__*/_jsx(FiEye,{})})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary \".concat(loading?'loading':''),disabled:loading,style:{marginBottom:'1rem'},children:loading?'Changing Email...':'Change Email'})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:'var(--color-bg-primary)',marginBottom:'1rem',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(FiLock,{}),\" Change Password\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePasswordChange,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"current_password\",children:\"Current Password\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"input\",{id:\"current_password\",type:showPasswords.current?\"text\":\"password\",value:security.current_password,onChange:e=>setSecurity(prev=>_objectSpread(_objectSpread({},prev),{},{current_password:e.target.value})),placeholder:\"Enter current password\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>togglePasswordVisibility('current'),style:{position:'absolute',right:'12px',top:'50%',transform:'translateY(-50%)',background:'none',border:'none',cursor:'pointer',color:'var(--color-bg-primary)'},children:showPasswords.current?/*#__PURE__*/_jsx(FiEyeOff,{}):/*#__PURE__*/_jsx(FiEye,{})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"new_password\",children:\"New Password\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"input\",{id:\"new_password\",type:showPasswords.new?\"text\":\"password\",value:security.new_password,onChange:e=>setSecurity(prev=>_objectSpread(_objectSpread({},prev),{},{new_password:e.target.value})),placeholder:\"Enter new password\",minLength:6,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>togglePasswordVisibility('new'),style:{position:'absolute',right:'12px',top:'50%',transform:'translateY(-50%)',background:'none',border:'none',cursor:'pointer',color:'var(--color-bg-primary)'},children:showPasswords.new?/*#__PURE__*/_jsx(FiEyeOff,{}):/*#__PURE__*/_jsx(FiEye,{})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirm_password\",children:\"Confirm New Password\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"input\",{id:\"confirm_password\",type:showPasswords.confirm?\"text\":\"password\",value:security.confirm_password,onChange:e=>setSecurity(prev=>_objectSpread(_objectSpread({},prev),{},{confirm_password:e.target.value})),placeholder:\"Confirm new password\",minLength:6,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>togglePasswordVisibility('confirm'),style:{position:'absolute',right:'12px',top:'50%',transform:'translateY(-50%)',background:'none',border:'none',cursor:'pointer',color:'var(--color-bg-primary)'},children:showPasswords.confirm?/*#__PURE__*/_jsx(FiEyeOff,{}):/*#__PURE__*/_jsx(FiEye,{})})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary \".concat(loading?'loading':''),disabled:loading,children:loading?'Changing Password...':'Change Password'})]})]})]})})]})]});};export default EnhancedProfile;","map":{"version":3,"names":["React","useState","useRef","FiCamera","FiMail","FiLock","FiUser","FiUpload","FiEye","FiEyeOff","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EnhancedProfile","_ref","user","onUpdateProfile","profile","setProfile","screen_name","pronouns","goals","identity_goals","focus_areas","Array","isArray","split","map","f","trim","filter","Boolean","security","setSecurity","new_email","email","current_password","new_password","confirm_password","activeTab","setActiveTab","loading","setLoading","message","setMessage","uploadingPicture","setUploadingPicture","showPasswords","setShowPasswords","current","new","confirm","fileInputRef","pronounOptions","value","label","focusAreaOptions","handleProfileSubmit","e","preventDefault","response","fetch","concat","process","env","REACT_APP_API_URL","method","headers","localStorage","getItem","body","JSON","stringify","ok","setTimeout","error","json","err","console","handlePictureUpload","event","file","target","files","allowedTypes","includes","type","size","formData","FormData","append","data","_objectSpread","profile_picture","handleEmailChange","password","prev","handlePasswordChange","length","togglePasswordVisibility","field","className","children","user_id","startsWith","style","background","color","padding","borderRadius","marginBottom","textAlign","fontWeight","fontSize","position","display","src","alt","width","height","objectFit","border","toUpperCase","name","onClick","_fileInputRef$current","click","disabled","bottom","right","cursor","alignItems","justifyContent","opacity","title","ref","onChange","accept","auth_method","marginTop","id","icon","tab","flex","gap","transition","onSubmit","htmlFor","placeholder","option","rows","area","checked","newAreas","a","required","top","transform","minLength"],"sources":["C:/Users/Salman/Downloads/M-bot/src/EnhancedProfile.js"],"sourcesContent":["// Enhanced Profile Component with Picture Upload, Email/Password Change\nimport React, { useState, useRef } from 'react';\nimport { FiCamera, FiMail, FiLock, FiUser, FiUpload, FiEye, FiEyeOff } from 'react-icons/fi';\n\nconst EnhancedProfile = ({ user, onUpdateProfile }) => {\n  const [profile, setProfile] = useState({\n    screen_name: user.screen_name || '',\n    pronouns: user.pronouns || '',\n    goals: user.goals || user.identity_goals || '',\n    focus_areas: Array.isArray(user.focus_areas)\n      ? user.focus_areas\n      : typeof user.focus_areas === 'string' && user.focus_areas\n        ? user.focus_areas.split(',').map(f => f.trim()).filter(Boolean)\n        : []\n  });\n  \n  const [security, setSecurity] = useState({\n    new_email: user.email || '',\n    current_password: '',\n    new_password: '',\n    confirm_password: ''\n  });\n  \n  const [activeTab, setActiveTab] = useState('profile'); // profile, security, picture\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [uploadingPicture, setUploadingPicture] = useState(false);\n  const [showPasswords, setShowPasswords] = useState({\n    current: false,\n    new: false,\n    confirm: false\n  });\n  \n  const fileInputRef = useRef(null);\n\n  const pronounOptions = [\n    { value: 'he/him', label: 'He/Him' },\n    { value: 'she/her', label: 'She/Her' },\n    { value: 'they/them', label: 'They/Them' },\n    { value: 'he/they', label: 'He/They' },\n    { value: 'she/they', label: 'She/They' },\n    { value: 'other', label: 'Other' }\n  ];\n\n  const focusAreaOptions = [\n    'Self-Acceptance',\n    'Relationships',\n    'Identity Expression',\n    'Communication',\n    'Emotional Well-being',\n    'Personal Growth'\n  ];\n\n  const handleProfileSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n    \n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/profile`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          screen_name: profile.screen_name,\n          pronouns: profile.pronouns,\n          goals: profile.goals,\n          focus_areas: profile.focus_areas\n        })\n      });\n      \n      if (response.ok) {\n        onUpdateProfile(profile);\n        setMessage('Profile updated successfully! ‚ú®');\n        setTimeout(() => setMessage(''), 3000);\n      } else {\n        const error = await response.json();\n        setMessage(error.error || 'Failed to update profile. Please try again.');\n      }\n    } catch (err) {\n      console.error('Error updating profile:', err);\n      setMessage('Error updating profile. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePictureUpload = async (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    // Validate file type\n    const allowedTypes = ['image/png', 'image/jpeg', 'image/jpg', 'image/gif', 'image/webp'];\n    if (!allowedTypes.includes(file.type)) {\n      setMessage('Please upload a valid image file (PNG, JPG, JPEG, GIF, or WebP)');\n      return;\n    }\n\n    // Validate file size (max 16MB)\n    if (file.size > 16 * 1024 * 1024) {\n      setMessage('File size must be less than 16MB');\n      return;\n    }\n\n    setUploadingPicture(true);\n    setMessage('');\n\n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/upload-profile-picture`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: formData\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        onUpdateProfile({ ...user, profile_picture: data.profile_picture });\n        setMessage('Profile picture updated successfully! ‚ú®');\n        setTimeout(() => setMessage(''), 3000);\n      } else {\n        const error = await response.json();\n        setMessage(error.error || 'Failed to upload picture. Please try again.');\n      }\n    } catch (err) {\n      console.error('Error uploading picture:', err);\n      setMessage('Error uploading picture. Please try again.');\n    } finally {\n      setUploadingPicture(false);\n    }\n  };\n\n  const handleEmailChange = async (e) => {\n    e.preventDefault();\n    if (!security.current_password) {\n      setMessage('Please enter your current password to change email');\n      return;\n    }\n\n    setLoading(true);\n    setMessage('');\n\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/change-email`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          new_email: security.new_email,\n          password: security.current_password\n        })\n      });\n\n      if (response.ok) {\n        onUpdateProfile({ ...user, email: security.new_email });\n        setSecurity(prev => ({ ...prev, current_password: '' }));\n        setMessage('Email changed successfully! ‚ú®');\n        setTimeout(() => setMessage(''), 3000);\n      } else {\n        const error = await response.json();\n        setMessage(error.error || 'Failed to change email. Please try again.');\n      }\n    } catch (err) {\n      console.error('Error changing email:', err);\n      setMessage('Error changing email. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePasswordChange = async (e) => {\n    e.preventDefault();\n    \n    if (!security.current_password || !security.new_password || !security.confirm_password) {\n      setMessage('Please fill in all password fields');\n      return;\n    }\n\n    if (security.new_password !== security.confirm_password) {\n      setMessage('New passwords do not match');\n      return;\n    }\n\n    if (security.new_password.length < 6) {\n      setMessage('New password must be at least 6 characters long');\n      return;\n    }\n\n    setLoading(true);\n    setMessage('');\n\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/change-password`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          current_password: security.current_password,\n          new_password: security.new_password\n        })\n      });\n\n      if (response.ok) {\n        setSecurity({\n          new_email: user.email || '',\n          current_password: '',\n          new_password: '',\n          confirm_password: ''\n        });\n        setMessage('Password changed successfully! ‚ú®');\n        setTimeout(() => setMessage(''), 3000);\n      } else {\n        const error = await response.json();\n        setMessage(error.error || 'Failed to change password. Please try again.');\n      }\n    } catch (err) {\n      console.error('Error changing password:', err);\n      setMessage('Error changing password. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const togglePasswordVisibility = (field) => {\n    setShowPasswords(prev => ({\n      ...prev,\n      [field]: !prev[field]\n    }));\n  };\n\n  return (\n    <div className=\"enhanced-profile-container\">\n      {user.user_id && user.user_id.startsWith('local_user_') && (\n        <div style={{\n          background: 'var(--color-warning)',\n          color: 'white',\n          padding: '12px 16px',\n          borderRadius: '12px',\n          marginBottom: '1rem',\n          textAlign: 'center',\n          fontWeight: '600',\n          fontSize: '1.1rem'\n        }}>\n          You are using local-only login. Please sign in with a real account to access all features (chat, sessions, profile picture, etc.).\n        </div>\n      )}\n      <div className=\"profile-container\">\n        {/* Enhanced Profile Header with Picture */}\n        <div className=\"profile-header-card\" style={{ position: 'relative' }}>\n          <div style={{ position: 'relative', display: 'inline-block' }}>\n            {user.profile_picture ? (\n              <img\n                src={`${process.env.REACT_APP_API_URL || 'http://localhost:5000'}${user.profile_picture}`}\n                alt=\"Profile Picture\"\n                className=\"profile-picture-large\"\n                style={{ \n                  width: 96, \n                  height: 96, \n                  borderRadius: '50%', \n                  objectFit: 'cover', \n                  background: '#eee',\n                  border: '3px solid var(--color-brand-primary)'\n                }}\n              />\n            ) : (\n              <div className=\"profile-avatar\" style={{ \n                width: 96, \n                height: 96, \n                fontSize: '2.5rem',\n                background: 'var(--color-brand-primary)',\n                color: 'var(--color-bg-primary)',\n                border: '3px solid var(--color-brand-primary)'\n              }}>\n                {user.screen_name ? user.screen_name[0].toUpperCase() : (user.name ? user.name[0].toUpperCase() : 'M')}\n              </div>\n            )}\n            \n            <button\n              onClick={() => fileInputRef.current?.click()}\n              disabled={uploadingPicture}\n              style={{\n                position: 'absolute',\n                bottom: 0,\n                right: 0,\n                width: 32,\n                height: 32,\n                borderRadius: '50%',\n                background: 'var(--color-brand-primary)',\n                border: '2px solid white',\n                color: 'var(--color-bg-primary)',\n                cursor: uploadingPicture ? 'not-allowed' : 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '14px',\n                opacity: uploadingPicture ? 0.6 : 1\n              }}\n              title=\"Change profile picture\"\n            >\n              {uploadingPicture ? '‚ü≥' : <FiCamera />}\n            </button>\n            \n            <input\n              type=\"file\"\n              ref={fileInputRef}\n              onChange={handlePictureUpload}\n              accept=\"image/png,image/jpeg,image/jpg,image/gif,image/webp\"\n              style={{ display: 'none' }}\n            />\n          </div>\n          \n          <div className=\"profile-header-info\">\n            <span className=\"profile-name\">{user.screen_name || user.name || 'Your Name'}</span>\n            <span className=\"profile-email\">{user.email || ''}</span>\n            {user.auth_method === 'oauth' && (\n              <span style={{ \n                fontSize: '12px', \n                color: 'var(--color-brand-primary)', \n                fontWeight: '500',\n                marginTop: '4px',\n                display: 'block'\n              }}>\n                üåê Connected via Google\n              </span>\n            )}\n          </div>\n        </div>\n        \n        {message && (\n          <div style={{\n            background: message.includes('successfully') ? 'var(--color-brand-primary)' : 'var(--color-warning)',\n            color: message.includes('successfully') ? 'var(--color-bg-primary)' : 'white',\n            padding: '12px 16px',\n            borderRadius: '12px',\n            marginBottom: '1rem',\n            textAlign: 'center',\n            fontWeight: '500'\n          }}>\n            {message}\n          </div>\n        )}\n        \n        {/* Tab Navigation */}\n        <div style={{ \n          display: 'flex', \n          marginBottom: '2rem',\n          background: 'rgba(228, 205, 247, 0.3)',\n          borderRadius: '12px',\n          padding: '4px'\n        }}>\n          {[\n            { id: 'profile', label: 'Profile Info', icon: <FiUser /> },\n            { id: 'security', label: 'Security', icon: <FiLock /> },\n          ].map(tab => (\n            <button\n              key={tab.id}\n              onClick={() => setActiveTab(tab.id)}\n              style={{\n                flex: 1,\n                padding: '12px 16px',\n                border: 'none',\n                borderRadius: '8px',\n                background: activeTab === tab.id ? 'var(--color-brand-primary)' : 'transparent',\n                color: activeTab === tab.id ? 'var(--color-bg-primary)' : '#2d0036',\n                fontWeight: '600',\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                gap: '8px',\n                transition: 'all 0.3s ease'\n              }}\n            >\n              {tab.icon}\n              {tab.label}\n            </button>\n          ))}\n        </div>\n\n        {/* Profile Tab */}\n        {activeTab === 'profile' && (\n          <form className=\"profile-form profile-form-card\" onSubmit={handleProfileSubmit}>\n            <div className=\"profile-field\">\n              <label htmlFor=\"screen_name\">Screen Name</label>\n              <input\n                id=\"screen_name\"\n                type=\"text\"\n                value={profile.screen_name}\n                onChange={(e) => setProfile(prev => ({ ...prev, screen_name: e.target.value }))}\n                placeholder=\"Choose a name to display\"\n              />\n            </div>\n            \n            <div className=\"profile-field\">\n              <label htmlFor=\"pronouns\">Your Pronouns</label>\n              <select\n                id=\"pronouns\"\n                value={profile.pronouns}\n                onChange={(e) => setProfile(prev => ({ ...prev, pronouns: e.target.value }))}\n              >\n                <option value=\"\">Select your pronouns</option>\n                {pronounOptions.map(option => (\n                  <option key={option.value} value={option.value}>\n                    {option.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n            \n            <div className=\"profile-field\">\n              <label htmlFor=\"goals\">What do you hope to become or express in your life and identity?</label>\n              <textarea\n                id=\"goals\"\n                value={profile.goals}\n                onChange={(e) => setProfile(prev => ({ ...prev, goals: e.target.value }))}\n                placeholder=\"Share your aspirations and goals...\"\n                rows={4}\n              />\n            </div>\n            \n            <div className=\"profile-field\">\n              <label>What areas are most important to you right now?</label>\n              <div className=\"focus-areas\">\n                {focusAreaOptions.map(area => (\n                  <label key={area} className=\"focus-area-option\">\n                    <input\n                      type=\"checkbox\"\n                      checked={profile.focus_areas.includes(area)}\n                      onChange={(e) => {\n                        const newAreas = e.target.checked\n                          ? [...profile.focus_areas, area]\n                          : profile.focus_areas.filter(a => a !== area);\n                        setProfile(prev => ({ ...prev, focus_areas: newAreas }));\n                      }}\n                    />\n                    {area}\n                  </label>\n                ))}\n              </div>\n            </div>\n            \n            <button \n              type=\"submit\" \n              className={`btn-primary ${loading ? 'loading' : ''}`}\n              disabled={loading}\n            >\n              {loading ? 'Saving...' : 'Save Profile'}\n            </button>\n          </form>\n        )}\n\n        {/* Security Tab */}\n        {activeTab === 'security' && (\n          <div className=\"profile-form-card\">\n            {user.auth_method === 'oauth' ? (\n              <div style={{ \n                textAlign: 'center', \n                padding: '2rem',\n                background: 'rgba(142, 230, 163, 0.1)',\n                borderRadius: '12px',\n                color: 'var(--color-bg-primary)'\n              }}>\n                <h3 style={{ marginBottom: '1rem' }}>üåê OAuth Account</h3>\n                <p>Your account is connected through Google OAuth. Email and password changes are managed through your Google account.</p>\n              </div>\n            ) : (\n              <>\n                {/* Email Change Section */}\n                <div style={{ marginBottom: '2rem' }}>\n                  <h3 style={{ \n                    color: 'var(--color-bg-primary)', \n                    marginBottom: '1rem',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px'\n                  }}>\n                    <FiMail /> Change Email\n                  </h3>\n                  <form onSubmit={handleEmailChange}>\n                    <div className=\"profile-field\">\n                      <label htmlFor=\"new_email\">New Email Address</label>\n                      <input\n                        id=\"new_email\"\n                        type=\"email\"\n                        value={security.new_email}\n                        onChange={(e) => setSecurity(prev => ({ ...prev, new_email: e.target.value }))}\n                        placeholder=\"Enter new email address\"\n                        required\n                      />\n                    </div>\n                    <div className=\"profile-field\">\n                      <label htmlFor=\"email_password\">Current Password</label>\n                      <div style={{ position: 'relative' }}>\n                        <input\n                          id=\"email_password\"\n                          type={showPasswords.current ? \"text\" : \"password\"}\n                          value={security.current_password}\n                          onChange={(e) => setSecurity(prev => ({ ...prev, current_password: e.target.value }))}\n                          placeholder=\"Enter current password\"\n                          required\n                        />\n                        <button\n                          type=\"button\"\n                          onClick={() => togglePasswordVisibility('current')}\n                          style={{\n                            position: 'absolute',\n                            right: '12px',\n                            top: '50%',\n                            transform: 'translateY(-50%)',\n                            background: 'none',\n                            border: 'none',\n                            cursor: 'pointer',\n                            color: 'var(--color-bg-primary)'\n                          }}\n                        >\n                          {showPasswords.current ? <FiEyeOff /> : <FiEye />}\n                        </button>\n                      </div>\n                    </div>\n                    <button \n                      type=\"submit\" \n                      className={`btn-primary ${loading ? 'loading' : ''}`}\n                      disabled={loading}\n                      style={{ marginBottom: '1rem' }}\n                    >\n                      {loading ? 'Changing Email...' : 'Change Email'}\n                    </button>\n                  </form>\n                </div>\n\n                {/* Password Change Section */}\n                <div>\n                  <h3 style={{ \n                    color: 'var(--color-bg-primary)', \n                    marginBottom: '1rem',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px'\n                  }}>\n                    <FiLock /> Change Password\n                  </h3>\n                  <form onSubmit={handlePasswordChange}>\n                    <div className=\"profile-field\">\n                      <label htmlFor=\"current_password\">Current Password</label>\n                      <div style={{ position: 'relative' }}>\n                        <input\n                          id=\"current_password\"\n                          type={showPasswords.current ? \"text\" : \"password\"}\n                          value={security.current_password}\n                          onChange={(e) => setSecurity(prev => ({ ...prev, current_password: e.target.value }))}\n                          placeholder=\"Enter current password\"\n                          required\n                        />\n                        <button\n                          type=\"button\"\n                          onClick={() => togglePasswordVisibility('current')}\n                          style={{\n                            position: 'absolute',\n                            right: '12px',\n                            top: '50%',\n                            transform: 'translateY(-50%)',\n                            background: 'none',\n                            border: 'none',\n                            cursor: 'pointer',\n                            color: 'var(--color-bg-primary)'\n                          }}\n                        >\n                          {showPasswords.current ? <FiEyeOff /> : <FiEye />}\n                        </button>\n                      </div>\n                    </div>\n                    <div className=\"profile-field\">\n                      <label htmlFor=\"new_password\">New Password</label>\n                      <div style={{ position: 'relative' }}>\n                        <input\n                          id=\"new_password\"\n                          type={showPasswords.new ? \"text\" : \"password\"}\n                          value={security.new_password}\n                          onChange={(e) => setSecurity(prev => ({ ...prev, new_password: e.target.value }))}\n                          placeholder=\"Enter new password\"\n                          minLength={6}\n                          required\n                        />\n                        <button\n                          type=\"button\"\n                          onClick={() => togglePasswordVisibility('new')}\n                          style={{\n                            position: 'absolute',\n                            right: '12px',\n                            top: '50%',\n                            transform: 'translateY(-50%)',\n                            background: 'none',\n                            border: 'none',\n                            cursor: 'pointer',\n                            color: 'var(--color-bg-primary)'\n                          }}\n                        >\n                          {showPasswords.new ? <FiEyeOff /> : <FiEye />}\n                        </button>\n                      </div>\n                    </div>\n                    <div className=\"profile-field\">\n                      <label htmlFor=\"confirm_password\">Confirm New Password</label>\n                      <div style={{ position: 'relative' }}>\n                        <input\n                          id=\"confirm_password\"\n                          type={showPasswords.confirm ? \"text\" : \"password\"}\n                          value={security.confirm_password}\n                          onChange={(e) => setSecurity(prev => ({ ...prev, confirm_password: e.target.value }))}\n                          placeholder=\"Confirm new password\"\n                          minLength={6}\n                          required\n                        />\n                        <button\n                          type=\"button\"\n                          onClick={() => togglePasswordVisibility('confirm')}\n                          style={{\n                            position: 'absolute',\n                            right: '12px',\n                            top: '50%',\n                            transform: 'translateY(-50%)',\n                            background: 'none',\n                            border: 'none',\n                            cursor: 'pointer',\n                            color: 'var(--color-bg-primary)'\n                          }}\n                        >\n                          {showPasswords.confirm ? <FiEyeOff /> : <FiEye />}\n                        </button>\n                      </div>\n                    </div>\n                    <button \n                      type=\"submit\" \n                      className={`btn-primary ${loading ? 'loading' : ''}`}\n                      disabled={loading}\n                    >\n                      {loading ? 'Changing Password...' : 'Change Password'}\n                    </button>\n                  </form>\n                </div>\n              </>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default EnhancedProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}